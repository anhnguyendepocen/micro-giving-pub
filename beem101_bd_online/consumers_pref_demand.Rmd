# Consumer preferences, constraints and choice, demand functions {#consumers_dmd}

## Consumer preferences, indifference curves/sets (0.5 weeks) {#consumer_pref}

We will cover most of O-R chapter 4, but we will skip section 4.6 (differentiability) 

### "Bundles of goods" (O-R 4.1) {-}

### Preferences over bundles, indifference sets (indifference curves) (O-R 4.2 and supplements
{-}

```{r  fig.cap = 'From Nicholson and Snyder 2010', out.width='80%', fig.asp=.4, fig.align='center',  echo = FALSE}
 knitr::include_graphics(file.path("picsfigs","moreisbetter.png"))
```

- How can we compare the "?" areas? Which are preferred?


\


$\rightarrow$ Compare utilities, depict this using *Indifference Curves*


Indifference curve
:     A curve that shows all the combinations of goods or services that provide the same level of utility. (Source: Nicholson and Snyder, 2010)

\

Formally (for 2 goods), the set of pairs of ${X,Y}$ such that $U(X,Y)=c$ for some constant c.^[Recall the "level sets" from the maths revision.]


Autor:
> Define a level of utility say $U(x) = U$. Then, the indifference curve for U, $IC(U)$ is the locus of consumption bundles that generate utility level U for utility function $U(x)$.


```{r  fig.cap = '', out.width='55%', fig.asp=.4, fig.align='center',  echo = FALSE}

knitr::include_graphics(file.path("picsfigs","indifcurves_util_together.jpg"))

```


Consider the above diagram ^[Credit: www2.econ.iastate.edu]. Think of this as a map with a projection above it.

- How far East you go on this map determines how much of the x good is consumed

- How far North you go determines how much of the Y good is consumed.

- How high is the projected image... Determines how much utility is obtained from this combination of goods X and Y.^[Hmm... If we think of this as a traveler who loves 'getting high', and  'consumes' by driving East or North, and his utility is his altitude, maybe that helps.]


```{r  fig.cap = '', out.width='70%', fig.asp=.4, fig.align='center',  echo = FALSE}

 knitr::include_graphics(file.path("picsfigs","indif_utility_2_400.jpg"))

```

The above diagram also includes color to depict the utility level, like a 'heat map'.^[This diagram is from a very useful resource from MIT, [Frank's Economics on the web](http://web.mit.edu/11.203/www/econ/).]

### Examples of preferences (over 2 goods) {-}

### Properties: Monotonicity {-}

### Properties: Continuity (we may skip this for time-concerns) {-}

### Properties: Convexity (skipping the proofs) {-}

#### More formal concept: quasiconcavity (optional)   {-}

<div class="marginnote">
This is the 'preferred assumption' which resembles Convexity, but has several advantages as a concept. For example, it doesn't require differentiable preferences, and its properties are not affected by monotonic transformations of utility functions. This is the concept that you might be taught in a PhD module. I think it may also have some value in understanding optimization problems in general, which is an important part of research and industry and finance, I believe.
</div>
 

More formal concept: (strictly) convex preferences $\Leftrightarrow$  (strictly) **'quasiconcave' utility function**, allowing 'n goods':

This essentially means that for a 'convex combination' of any two bundles $\mathbf{A}=(X_A,Y_A)$ and $\mathbf{D}=(X_D,Y_D)$

$$U(\alpha\mathbf{A}+(1-\alpha)\mathbf{D})\geq\alpha U(\mathbf{A}) + (1-\alpha)U(\mathbf{D})$$

where $0<\alpha<1$.

<div class="marginnote">
 Note the switch to a 'weak inequality' here for quasiconcavity, strict for 'strict quasiconcavity'*)
</div>

\

E.g. (with two goods),


$$U(\alpha X_A + (1-\alpha)X_D,\alpha Y_A + (1-\alpha)Y_D) \geq $$

$$\alpha(U((X_A,Y_A)) + (1-\alpha)(U(X_D,Y_D)$$

where $0<\alpha<1$.

\

We also describe it as having 'a convex upper contour set': the set of all bundles strictly preferred to a particular bundle is a 'convex set', implying it contains all convex combinations of elements of this set.

\

One reason economists like this 'quasiconcavity' is because it rules out the 'false summits',
the local, but not global optima, so we only need to use the first-order conditions to find the optima. 

<div class="marginnote">

But is this '[looking under the streetlight](https://en.wikipedia.org/wiki/Streetlight_effect) to find our keys' or is it truly without loss of generality?

</div>
 

\

Without quasiconcavity there may also be no demand *function* only a *demand correspondence*: at a given price and income there may be more than one optimising choice!

```{block2,  type='inputq'}
Can you illustrate this with 'double-humped' indifference curves?
```  

\


Gravelle and Reese appendix, on constrained optimisation (unfold)

```{block2,  type='fold'}

> A local maximum is always a global maximum if (a) the objective function is quasiconcave, and (b) the feasible set is convex.

It will also tend to rule out 'sharp jumps' in response to price changes, so we can look smoothly at 'comparitive statics.'

Note that 'quasiconcavity' does not require differentiability.

Furthermore, unlike properties like 'diminishing marginal rates of substitution' this is preserved under a 'monotonic transformation' (stretching). This means it is called an 'ordinal property'.  Essentially, quasiconcave utility functions yields indifference curves that are 'convex to the origin'.

All relevant properties of utility functions are unchanged by such monotonic transformations, including the MRS. This is well-illustrated in Autor's reading (Lecture 3, pp 11-14)

```


### Applications: Product positioning, marketing

(Content to be added here)

Do people have a preference for balance? (Convex indifference curves)?

Naive argument?: If market research suggests a broad group indifferent between two options A and C, maybe they strictly prefer G  $\rightarrow$ a possible *niche* for a new profitable product ?

<br>

```{block2,  type='inputqn'}

But what may be a critique, exception to this logic, e.g., for a particular food?
  
```  


```{block2,  type='fold'}

-  Convex preferences, 'preferring mixtures' is a very strong assumption, unlikely to hold everywhere, or for actual *mixtures*.   I may be indifferent between liver and custard, but it doesn't mean that I prefer liver-flavoured custard, nor even necessarily equal amounts of liver and custard side by side.

- Producing an 'intermediate' attribute may be more costly; it may be easy to make crunchy but low-taste cereal or tasty but low-crunch cereal, but expensive to make a cereal with both attributes.  

E.g., it's hard to make a car that is spacious *and* fast.

```

\

**Utility/indifference curves: Also a framework for marketing analysis**

```{block2,  type='note'}

The utility and indifference curve construct may seem highly theoretical. Indeed, these models were developed largely to address big questions like 'who gains from trade?'  Still, it helps organise thinking and analysis for at least some managers and marketing groups.  According to Nicholson and Snyder (2010) Marriot hotel used focus groups to 'construct (multidimensional) indifference curves' to consider their ideal product positioning.

I have seen a similar presentation for other hotels presented at [Behavioural boozeonomics](https://www.meetup.com/London-behavioural-comms-monthly-informal-drinks/) in London.

This may also provide a structure to guide data-driven 'searches for the next best product'.
```


## Consumer behavior/Individual (and market) demand functions and their properties (1 week) {#demand}

(Chapter 5 in O-R)

We may skip  'rationalizing a demand function


```{block2,  type='note'}
**I will add a great deal of content here shortly.**
```

### Budget sets/constraints {-}

### Individual (consumer) demand functions {-}

### Rational consumer and her optimisation problem {-}

### Marginal rates of substitution 

MORE TO BE ADDED HERE

